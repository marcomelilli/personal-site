---
template: post
title: Gatsby react helmet og meta tags are not recognized by facebook
slug: gatsby-react-helme-og-tags-not-recognized-facebook
draft: false
date: 2020-05-02T12:39:51.164Z
description: >-
  Whta to do when facebook share not recognize OpenGraph meta tags generated by
  gatsby react helmet plugin
category: gatsbyjs
tags:
  - gatsbyjs
  - opengraph
---
The plugin `gatsby-plugin-react-helmet` is helpful to generate `og` meta tags but I recently noticed that facebook and twitter stopped to recognize the meta tags in my site. Looking for a solution, I discovered that other people had the same issue and at the moment I'm writing this article there is an [open issue](https://github.com/gatsbyjs/gatsby/issues/22908) on github.

The main problem is that this plugin put all the tags at the **bottom of the header** and in some projects, when **large style tag** being placed before the meta tags, Facebook does not always parse the `og`tags if they come too late in the head. So the easiest way to resolve the problem is prioritise Helmet tags in the `<head />`tag.\

An elegant workaround is propoed by **[Ciantic](https://github.com/Ciantic)** in this [issue](https://github.com/gatsbyjs/gatsby/issues/22206):

Create a `gatsby-ssr.js` in the root of your gatsbyjs project with the following content:

```
var React = require("react");

// Hack, to reorder the helmet components as first in <head> tag
export const onPreRenderHTML = ({ getHeadComponents, replaceHeadComponents }) => {
    const headComponents = getHeadComponents();

    headComponents.sort((a, b) => {
        if (a.props && a.props["data-react-helmet"]) {
            return 0;
        }
        return 1;
    });
    replaceHeadComponents(headComponents);
};
```

More info about Gatsby Server Rendering APIs and `OnPreRenderHTML `function [here](https://www.gatsbyjs.org/docs/ssr-apis/#onPreRenderHTML)